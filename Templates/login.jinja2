{% extends 'partials/base.jinja2' %}
{% block title %}Login{% endblock %}
{% block content %}

<script src="/static/js/user.js"></script>

<form id="loginForm">
	<input name="username" placeholder="Username">
	<input name="password" placeholder="Password">
	<input type="submit" value="Submit">
</form>
<script>
// define elements from the DOM
let loginForm = document.getElementById("loginForm");

// Listen for when the form is submitted
loginForm.addEventListener("submit", e => {
	e.preventDefault(); // stop the form from normally submitting so the page doesn't refresh

	// extract username and password
	let formData = new FormData(loginForm);
	let username = formData.get("username");
	let password = formData.get("password");

	// log in with these credentials
	login(username, password)
})

showContent();
</script>
{% endblock %}